// Code generated by protoc-gen-markdown. DO NOT EDIT.<br />
// version:<br />
// 	protoc-gen-markdown v0.0.109<br />
// 	protoc              v4.25.3<br />
// source: api/im_chat.proto<br />

## chat
### send
//send a msg
#### Req:
```
Path:         /im.chat/send
Method:       POST
Content-Type: application/json
------------------------------------------------------------------------------------------------------------
{
	//value length must > 0
	"target":"str",
	//value must in ["user","group"]
	"target_type":"str",
	//value length must > 0
	"msg":"str",
	"extra":"str"
}
------------------------------------------------------------------------------------------------------------
```
#### Resp:
```
Fail:    httpcode:4xx/5xx
------------------------------------------------------------------------------------------------------------
{"code":123,"msg":"error message"}
------------------------------------------------------------------------------------------------------------
Success: httpcode:200
------------------------------------------------------------------------------------------------------------
{
	//msg index start from 1
	//uint32
	"msg_index":0,
	//unit: nanosecond
	//uint32
	"timestamp":0
}
------------------------------------------------------------------------------------------------------------
```
### recall
//recall a msg send by self
#### Req:
```
Path:         /im.chat/recall
Method:       POST
Content-Type: application/json
------------------------------------------------------------------------------------------------------------
{
	//value length must > 0
	"target":"str",
	//value must in ["user","group"]
	"target_type":"str",
	//uint32
	"msg_index":0
}
------------------------------------------------------------------------------------------------------------
```
#### Resp:
```
Fail:    httpcode:4xx/5xx
------------------------------------------------------------------------------------------------------------
{"code":123,"msg":"error message"}
------------------------------------------------------------------------------------------------------------
Success: httpcode:200
------------------------------------------------------------------------------------------------------------
{
	//uint32
	"recall_index":0
}
------------------------------------------------------------------------------------------------------------
```
### ack
//already read the msg send by other(self's msg don't need to ack)
#### Req:
```
Path:         /im.chat/ack
Method:       POST
Content-Type: application/json
------------------------------------------------------------------------------------------------------------
{
	//value length must > 0
	"target":"str",
	//value must in ["user","group"]
	"target_type":"str",
	//uint32
	"msg_index":0
}
------------------------------------------------------------------------------------------------------------
```
#### Resp:
```
Fail:    httpcode:4xx/5xx
------------------------------------------------------------------------------------------------------------
{"code":123,"msg":"error message"}
------------------------------------------------------------------------------------------------------------
Success: httpcode:200
------------------------------------------------------------------------------------------------------------
{
}
------------------------------------------------------------------------------------------------------------
```
### pull
//get more msgs and recalls
#### Req:
```
Path:         /im.chat/pull
Method:       POST
Content-Type: application/json
------------------------------------------------------------------------------------------------------------
{
	//value length must > 0
	"target":"str",
	//value must in ["user","group"]
	"target_type":"str",
	//value must in ["before","after"]
	"direction":"str",
	//the response will include this index
	//if this is 0,means don't need to pull the msgs
	//uint32
	"start_msg_index":0,
	//if this is 0,means don't need to pull the recalls
	//uint32
	"start_recall_index":0,
	//uint32
	//value must > 0
	//value must <= 50
	"count":0
}
------------------------------------------------------------------------------------------------------------
```
#### Resp:
```
Fail:    httpcode:4xx/5xx
------------------------------------------------------------------------------------------------------------
{"code":123,"msg":"error message"}
------------------------------------------------------------------------------------------------------------
Success: httpcode:200
------------------------------------------------------------------------------------------------------------
{
	//object msg_info
	"msgs":[{},{}],
	//kv map,key-uint32 use string is json's require,value-uint32
	"recalls":{"0":0,"0":0}
}
------------------------------------------------------------------------------------------------------------
msg_info: {
	//msg index start from 1
	//uint32
	"msg_index":0,
	//recall index start 1,0 means didn't recall
	//uint32
	"recall_index":0,
	"msg":"str",
	"extra":"str",
	//uint32
	"timestamp":0,
	"sender":"str",
	"target":"str",
	"target_type":"str"
}
------------------------------------------------------------------------------------------------------------
```
